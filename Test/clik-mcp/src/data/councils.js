"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.COUNCILS = void 0;
exports.findCouncilId = findCouncilId;
exports.COUNCILS = {
    "서울": "002001",
    "부산": "051001",
    "대구": "053001",
    "인천": "032001",
    "광주": "062001",
    "대전": "042001",
    "울산": "052001",
    "세종": "044001",
    "경기": "031001",
    "강원": "033001",
    "충북": "043001",
    "충남": "041001",
    "전북": "063001",
    "전남": "061001",
    "경북": "054001",
    "경남": "055001",
    "제주": "064001",
    "서울 강남구": "002002",
    "서울 강동구": "002003",
    "서울 강북구": "002004",
    "서울 강서구": "002005",
    "서울 관악구": "002006",
    "서울 광진구": "002007",
    "서울 구로구": "002008",
    "서울 금천구": "002009",
    "서울 노원구": "002010",
    "서울 도봉구": "002011",
    "서울 동대문구": "002012",
    "서울 동작구": "002013",
    "서울 마포구": "002014",
    "서울 서대문구": "002015",
    "서울 서초구": "002016",
    "서울 성동구": "002017",
    "서울 성북구": "002018",
    "서울 송파구": "002019",
    "서울 양천구": "002020",
    "서울 영등포구": "002021",
    "서울 용산구": "002022",
    "서울 은평구": "002023",
    "서울 종로구": "002024",
    "서울 중구": "002025",
    "서울 중랑구": "002026",
    "부산 부산진구": "051008",
    "부산 수영구": "051013",
    "부산 중구": "051016",
    "인천 강화군": "032002",
    "인천 동구": "032006",
    "광주 북구": "062005",
    "대전 서구": "042004",
    "대전 유성구": "042005",
    "울산 남구": "052002",
    "울산 동구": "052003",
    "울산 북구": "052004",
    "울산 중구": "052006",
    "경기 고양시": "031003",
    "경기 과천시": "031004",
    "경기 광명시": "031005",
    "경기 광주시": "031006",
    "경기 구리시": "031007",
    "경기 군포시": "031008",
    "경기 김포시": "031009",
    "경기 남양주시": "031010",
    "경기 동두천시": "031011",
    "경기 부천시": "031012",
    "경기 성남시": "031013",
    "경기 수원시": "031014",
    "경기 시흥시": "031015",
    "경기 안산시": "031016",
    "경기 안성시": "031017",
    "경기 안양시": "031018",
    "경기 양주시": "031019",
    "경기 여주시": "031021",
    "경기 오산시": "031023",
    "경기 용인시": "031024",
    "경기 의왕시": "031025",
    "경기 의정부시": "031026",
    "경기 이천시": "031027",
    "경기 파주시": "031028",
    "경기 평택시": "031029",
    "경기 포천시": "031030",
    "경기 하남시": "031031",
    "경기 화성시": "031032",
    "강원 강릉시": "033002",
    "강원 동해시": "033004",
    "강원 삼척시": "033005",
    "강원 속초시": "033006",
    "강원 양양군": "033008",
    "강원 영월군": "033009",
    "강원 원주시": "033010",
    "강원 춘천시": "033014",
    "강원 태백시": "033015",
    "강원 평창군": "033016",
    "강원 홍천군": "033017",
    "강원 화천군": "033018",
    "충북 보은군": "043004",
    "충북 제천시": "043008",
    "충북 증평군": "043009",
    "충북 청주시": "043012",
    "충북 충주시": "043013",
    "충남 계룡시": "041002",
    "충남 공주시": "041003",
    "충남 논산시": "041005",
    "충남 당진시": "041006",
    "충남 보령시": "041007",
    "충남 서산시": "041009",
    "충남 아산시": "041011",
    "충남 예산군": "041012",
    "충남 천안시": "041013",
    "충남 청양군": "041014",
    "충남 태안군": "041015",
    "전북 남원시": "063005",
    "전북 부안군": "063007",
    "전북 완주군": "063009",
    "전북 전주시": "063013",
    "전북 정읍시": "063014",
    "전남 고흥군": "061003",
    "전남 광양시": "061005",
    "전남 나주시": "061007",
    "전남 목포시": "061009",
    "전남 순천시": "061012",
    "전남 여수시": "061014",
    "전남 영광군": "061015",
    "경북 경산시": "054002",
    "경북 경주시": "054003",
    "경북 고령군": "054004",
    "경북 구미시": "054005",
    "경북 김천시": "054007",
    "경북 문경시": "054008",
    "경북 상주시": "054010",
    "경북 안동시": "054012",
    "경북 영주시": "054015",
    "경북 영천시": "054016",
    "경북 칠곡군": "054023",
    "경북 포항시": "054024",
    "경남 거제시": "055002",
    "경남 김해시": "055005",
    "경남 밀양시": "055007",
    "경남 사천시": "055008",
    "경남 양산시": "055010",
    "경남 진주시": "055012",
    "경남 창원시": "055019",
    "경남 통영시": "055014"
};
/**
 * Finds the council ID for a given query (e.g. "서산시", "서산").
 * Prioritizes exact matches, then suffix matches.
 */
function findCouncilId(query) {
    var normalized = query.replace(/\s+/g, "");
    // 1. Exact match
    if (exports.COUNCILS[query]) {
        return { name: query, code: exports.COUNCILS[query] };
    }
    // 2. Iterate and check if query contains council name (or vice versa)
    // We prioritize the longest matching council name to avoid false positives (e.g. "서울" matching "서울특별시")
    var matches = [];
    for (var _i = 0, _a = Object.entries(exports.COUNCILS); _i < _a.length; _i++) {
        var _b = _a[_i], name_1 = _b[0], code = _b[1];
        var normalizedName = name_1.replace(/\s+/g, "");
        // Check if query contains council name (e.g. "서산시에서" contains "서산시")
        if (normalized.includes(normalizedName)) {
            matches.push({ name: name_1, code: code });
        }
        // Check if council name contains query (e.g. "충남 서산시" contains "서산")
        // Only if query is at least 2 chars to avoid matching "시" to everything
        else if (normalized.length >= 2 && normalizedName.includes(normalized)) {
            matches.push({ name: name_1, code: code });
        }
    }
    // Sort by length descending to get the most specific match
    matches.sort(function (a, b) { return b.name.length - a.name.length; });
    return matches.length > 0 ? matches[0] : null;
}
